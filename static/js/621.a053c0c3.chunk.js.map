{"version":3,"file":"static/js/621.a053c0c3.chunk.js","mappings":"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","sources":["components/reviews/Reviews.styled.js","components/reviews/Reviews.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 15px;\n  padding: 10px 0;\n\n  li {\n    width: 100%;\n    overflow: hidden;\n    margin-bottom: 15px;\n\n    h3 {\n      border-bottom: 2px solid black;\n      margin-bottom: 10px;\n      font-size: 16px;\n    }\n    p {\n      padding: 10px;\n      margin: 0 auto;\n      border: 1px solid;\n      border-radius: 10px;\n      font-size: 14px;\n    }\n  }\n`;\nexport const Btn = styled.button`\n  transition: all 0.3s ease;\n  display: ${props => {\n    return !props.$knopka ? 'inline-flex' : 'block';\n  }};\n  margin-left: ${props => {\n    return props.$knopka ? 'auto' : '0';\n  }};\n  justify-content: center;\n  align-items: center;\n  gap: 2px;\n  border: none;\n  background-color: ${props => {\n    return !props.$knopka ? 'transparent' : 'white';\n  }};\n  border: ${props => {\n    return props.$knopka ? '1px solid black' : null;\n  }};\n\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    text-decoration: underline;\n  }\n`;\n","import Loader from 'components/helpers/Loader';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovieReviews } from 'services/api';\nimport { Btn, StyledList } from './Reviews.styled';\nimport { AiOutlineArrowUp } from 'react-icons/ai';\nimport styled from 'styled-components';\n\nconst Reviews = () => {\n  const { id } = useParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const [expandedReviews, setExpandedReviews] = useState([]);\n  const [reviews, setReviews] = useState(null);\n\n  useEffect(() => {\n    const get = async () => {\n      setIsLoading(true);\n      try {\n        const res = await fetchMovieReviews(id);\n        setReviews(res);\n        setExpandedReviews(Array(res?.results.length).fill(false));\n      } catch (error) {\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    get();\n  }, [id]);\n\n  const toggleExpand = index => {\n    setExpandedReviews(prev => {\n      const updateArray = [...prev];\n      updateArray[index] = !updateArray[index];\n      return updateArray;\n    });\n  };\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (!reviews?.results.length) {\n    return <p>We don`t have any views for this movie</p>;\n  }\n\n  return (\n    <StyledList>\n      {reviews.results.map((user, index) => (\n        <li key={user.id}>\n          <h3>Author: {user.author}</h3>\n          <p>\n            {user.content.length > 300 && !expandedReviews[index]\n              ? `${user.content.slice(0, 300)}`\n              : user.content}\n            {user.content.length > 300 ? (\n              <Btn\n                $knopka={expandedReviews[index]}\n                onClick={() => toggleExpand(index)}\n              >\n                {expandedReviews[index] ? 'Hide' : '. . . read more'}\n                <Styled $rotated={expandedReviews[index]} />\n              </Btn>\n            ) : null}\n          </p>\n        </li>\n      ))}\n    </StyledList>\n  );\n};\nconst Styled = styled(AiOutlineArrowUp)`\n  transition: all 0.3s ease;\n  transform: ${({ $rotated }) =>\n    !$rotated ? 'rotate(-180deg)' : 'rotate(0deg)'};\n`;\n\nexport default Reviews;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = '13f507f7afd2e84a62cca8b12f55dea4';\n\nexport const fetchMovies = async params => {\n  const { data } = await axios.get('trending/all/day', {\n    params: {\n      ...params,\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await axios.get(`movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieCast = async id => {\n  const { data } = await axios.get(`movie/${id}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const { data } = await axios.get(`movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieByQuery = async (query, params) => {\n  const { data } = await axios.get(`search/movie`, {\n    params: {\n      query,\n      ...params,\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n"],"names":["StyledList","styled","_templateObject","_taggedTemplateLiteral","Btn","_templateObject2","props","$knopka","Styled","AiOutlineArrowUp","_ref2","$rotated","id","useParams","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","expandedReviews","setExpandedReviews","_useState5","_useState6","reviews","setReviews","useEffect","get","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","res","_context","prev","next","fetchMovieReviews","sent","Array","results","length","fill","t0","finish","stop","apply","arguments","_jsx","Loader","children","map","user","index","_jsxs","author","content","concat","slice","onClick","updateArray","_toConsumableArray","toggleExpand","axios","API_KEY","fetchMovies","params","_yield$axios$get","data","_objectSpread","api_key","abrupt","_x","fetchMovieById","_callee2","_yield$axios$get2","_context2","_x2","fetchMovieCast","_ref3","_callee3","_yield$axios$get3","_context3","_x3","_ref4","_callee4","_yield$axios$get4","_context4","_x4","fetchMovieByQuery","_ref5","_callee5","query","_yield$axios$get5","_context5","_x5","_x6"],"sourceRoot":""}